<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MemoryMap - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="MemoryMap.html">MemoryMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#.flattenOverlaps">flattenOverlaps</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#.fromHex">fromHex</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#.fromPaddedUint8Array">fromPaddedUint8Array</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#.overlapMemoryMaps">overlapMemoryMaps</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#asHexString">asHexString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#clone">clone</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#contains">contains</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#getUint32">getUint32</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#join">join</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#paginate">paginate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#slice">slice</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="MemoryMap.html#slicePad">slicePad</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">MemoryMap</h1>
    

    




<section>

<header>
    
        <h2>
        MemoryMap
        </h2>
        
            <div class="class-description">MemoryMap

Represents the contents of a memory layout, with main focus into (possibly sparse) blocks of data.
<br/>
A <a href="MemoryMap.html"><code>MemoryMap</code></a> acts as a subclass of
<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>.
In every entry of it, the key is the starting address of a data block (an integer number),
and the value is the <tt>Uint8Array</tt> with the data for that block.
<br/>
The main rationale for this is that a .hex file can contain a single block of contiguous
data starting at memory address 0 (and it's the common case for simple .hex files),
but complex files with several non-contiguous data blocks are also possible, thus
the need for a data structure on top of the <tt>Uint8Array</tt>s.
<br/>
In order to parse <tt>.hex</tt> files, use the <a href="MemoryMap.html#.fromHex"><code>MemoryMap.fromHex</code></a> <em>static</em> factory
method. In order to write <tt>.hex</tt> files, create a new <a href="MemoryMap.html"><code>MemoryMap</code></a> and call
its <code>MemoryMap.asHexString</code> method.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        
<div class="section-method">

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="MemoryMap"><span class="type-signature"></span>new MemoryMap<span class="signature">(blocks)</span><span class="type-signature"></span></h4>

    







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>blocks</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Iterable</code></span>


            
            </td>

            

            

            <td class="description last">
                The initial value for the memory blocks inside this
<tt>MemoryMap</tt>. All keys must be numeric, and all values must be instances of
<tt>Uint8Array</tt>. Optionally it can also be a plain <tt>Object</tt> with
only numeric keys.
                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>import MemoryMap from 'nrf-intel-hex';

let memMap1 = new MemoryMap();
let memMap2 = new MemoryMap([[0, new Uint8Array(1,2,3,4)]]);
let memMap3 = new MemoryMap({0: new Uint8Array(1,2,3,4)});
let memMap4 = new MemoryMap({0xCF0: new Uint8Array(1,2,3,4)});</code></pre>

</div>

</div>
    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li>Map</li>
    </ul>


    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id=".flattenOverlaps"><span class="type-signature">(static) </span>flattenOverlaps<span class="signature">(overlaps)</span><span class="type-signature"> &rarr; {<a href="MemoryMap.html">MemoryMap</a>}</span></h4>

    



<div class="description">
    Given the output of the <a href="MemoryMap.html#.overlapMemoryMaps"><code>overlapMemoryMaps</code></a>
(a <tt>Map</tt> of address to an <tt>Array</tt> of <tt>(id, Uint8Array)</tt> tuples),
returns a <a href="MemoryMap.html"><code>MemoryMap</code></a>. This discards the IDs in the process.
<br/>
The output <tt>Map</tt> contains as many entries as the input one (using the same addresses
as keys), but the value for each entry will be the <tt>Uint8Array</tt> of the <b>last</b>
tuple for each address in the input data.
<br/>
The scenario is wanting to join together several parsed .hex files, not worrying about
their overlaps.
<br/>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line472">line 472</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>overlaps</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Map.Array.&lt;mixed, Uint8Array></code></span>


            
            </td>

            

            

            <td class="description last">
                The (possibly overlapping) input memory blocks
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


    </dd>
</dl>


<div class="param-desc">
    The flattened memory blocks
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".fromHex"><span class="type-signature">(static) </span>fromHex<span class="signature">(hexText, maxBlockSize<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="MemoryMap.html">MemoryMap</a>}</span></h4>

    



<div class="description">
    Parses a string containing data formatted in "Intel HEX" format, and
returns an instance of <a href="MemoryMap.html"><code>MemoryMap</code></a>.
<br/>
The insertion order of keys in the <a href="MemoryMap.html"><code>MemoryMap</code></a> is guaranteed to be strictly
ascending. In other words, when iterating through the <a href="MemoryMap.html"><code>MemoryMap</code></a>, the addresses
will be ordered in ascending order.
<br/>
The parser has an opinionated behaviour, and will throw a descriptive error if it
encounters some malformed input. Check the project's
<a href="https://github.com/NordicSemiconductor/nrf-intel-hex#Features">README file</a> for details.
<br/>
If <tt>maxBlockSize</tt> is given, any contiguous data block larger than that will
be split in several blocks.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line166">line 166</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hexText</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                The contents of a .hex file.
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxBlockSize</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Infinity
                
                </td>
            

            <td class="description last">
                Maximum size of the returned <tt>Uint8Array</tt>s.
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


    </dd>
</dl>


    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>import MemoryMap from 'nrf-intel-hex';

let intelHexString =
    ":100000000102030405060708090A0B0C0D0E0F1068\n" +
    ":00000001FF";

let memMap = MemoryMap.fromHex(intelHexString);

for (let [address, dataBlock] of memMap) {
    console.log('Data block at ', address, ', bytes: ', dataBlock);
}</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".fromPaddedUint8Array"><span class="type-signature">(static) </span>fromPaddedUint8Array<span class="signature">(bytes, padByte<span class="signature-attributes">opt</span>, minPadLength<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="MemoryMap.html">MemoryMap</a>}</span></h4>

    



<div class="description">
    Given one <tt>Uint8Array</tt>, looks through its contents and returns a new
<a href="MemoryMap.html"><code>MemoryMap</code></a>, stripping away those regions where there are only
padding bytes.
<br/>
The start of the input <tt>Uint8Array</tt> is assumed to be offset zero for the output.
<br/>
The use case here is dumping memory from a working device and try to see the
"interesting" memory regions it has. This assumes that there is a constant,
predefined padding byte value being used in the "non-interesting" regions.
In other words: this will work as long as the dump comes from a flash memory
which has been previously erased (thus <tt>0xFF</tt>s for padding), or from a
previously blanked HDD (thus <tt>0x00</tt>s for padding).
<br/>
This method uses <tt>subarray</tt> on the input data, and thus does not allocate memory
for the <tt>Uint8Array</tt>s.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line767">line 767</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bytes</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Uint8Array</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                The input data
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>padByte</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    0xFF
                
                </td>
            

            <td class="description last">
                The value of the byte assumed to be used as padding
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>minPadLength</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    64
                
                </td>
            

            <td class="description last">
                The minimum number of consecutive pad bytes to
be considered actual padding
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id=".overlapMemoryMaps"><span class="type-signature">(static) </span>overlapMemoryMaps<span class="signature">(memoryMaps)</span><span class="type-signature"> &rarr; {Map.Array.&lt;mixed, Uint8Array>}</span></h4>

    



<div class="description">
    Given a <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map"><tt>Map</tt></a>
of <a href="MemoryMap.html"><code>MemoryMap</code></a>s, indexed by a alphanumeric ID,
returns a <tt>Map</tt> of address to tuples (<tt>Arrays</tt>s of length 2) of the form
<tt>(id, Uint8Array)</tt>s.
<br/>
The scenario for using this is having several <a href="MemoryMap.html"><code>MemoryMap</code></a>s, from several calls to
hexToArrays, each having a different identifier.
This function locates where those memory block sets overlap, and returns a <tt>Map</tt>
containing addresses as keys, and arrays as values. Each array will contain 1 or more
<tt>(id, Uint8Array)</tt> tuples: the identifier of the memory block set that has
data in that region, and the data itself. When memory block sets overlap, there will
be more than one tuple.
<br/>
The <tt>Uint8Array</tt>s in the output are
<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/subarray">subarrays</a>
of the input data; new memory is <strong>not</strong> allocated for them.
<br/>
The insertion order of keys in the output <tt>Map</tt> is guaranteed to be strictly
ascending. In other words, when iterating through the <tt>Map</tt>, the addresses
will be ordered in ascending order.
<br/>
When two blocks overlap, the corresponding array of tuples will have the tuples ordered
in the insertion order of the input <tt>Map</tt> of block sets.
<br/>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line407">line 407</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>memoryMaps</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Map.MemoryMap</code></span>


            
            </td>

            

            

            <td class="description last">
                The input memory block sets
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Map.Array.&lt;mixed, Uint8Array></code></span>


    </dd>
</dl>


<div class="param-desc">
    The map of possibly overlapping memory blocks
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>import MemoryMap from 'nrf-intel-hex';

let memMap1 = MemoryMap.fromHex( hexdata1 );
let memMap2 = MemoryMap.fromHex( hexdata2 );
let memMap3 = MemoryMap.fromHex( hexdata3 );

let maps = new Map([
 ['file A', blocks1],
 ['file B', blocks2],
 ['file C', blocks3]
]);

let overlappings = MemoryMap.overlapMemoryMaps(maps);

for (let [address, tuples] of overlappings) {
    // if 'tuples' has length > 1, there is an overlap starting at 'address'

    for (let [address, tuples] of overlappings) {
        let [id, bytes] = tuple;
        // 'id' in this example is either 'file A', 'file B' or 'file C'
    }
}</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="asHexString"><span class="type-signature"></span>asHexString<span class="signature">(lineSize<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {String}</span></h4>

    



<div class="description">
    Returns a <tt>String</tt> of text representing a .hex file.
<br/>
The writer has an opinionated behaviour. Check the project's
<a href="https://github.com/NordicSemiconductor/nrf-intel-hex#Features">README file</a> for details.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line599">line 599</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>lineSize</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    16
                
                </td>
            

            <td class="description last">
                Maximum number of bytes to be encoded in each data record.
Must have a value between 1 and 255, as per the specification.
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>String</code></span>


    </dd>
</dl>


<div class="param-desc">
    String of text with the .hex representation of the input binary data
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>import MemoryMap from 'nrf-intel-hex';

let memMap = new MemoryMap();
let bytes = new Uint8Array(....);
memMap.set(0x0FF80000, bytes); // The block with 'bytes' will start at offset 0x0FF80000

let string = memMap.asHexString();</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="clone"><span class="type-signature"></span>clone<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="MemoryMap.html">MemoryMap</a>}</span></h4>

    



<div class="description">
    Performs a deep copy of the current <a href="MemoryMap.html"><code>MemoryMap</code></a>, returning a new one
with exactly the same contents, but allocating new memory for each of its
<tt>Uint8Array</tt>s.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line732">line 732</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="contains"><span class="type-signature"></span>contains<span class="signature">(memMap)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    



<div class="description">
    Checks whether the current memory map contains the one given as a parameter.

<br/>
"Contains" means that all the offsets that have a byte value in the given
memory map have a value in the current memory map, and that the byte values
are the same.

<br/>
An empty memory map is always contained in any other memory map.

<br/>
Returns boolean <tt>true</tt> if the memory map is contained, <tt>false</tt>
otherwise.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line917">line 917</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>memMap</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


            
            </td>

            

            

            <td class="description last">
                The memory map to check
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Boolean</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getUint32"><span class="type-signature"></span>getUint32<span class="signature">(offset, littleEndian<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Number|undefined}</span></h4>

    



<div class="description">
    Locates the <tt>Uint8Array</tt> which contains the given offset,
and returns the four bytes held at that offset, as a 32-bit unsigned integer.

<br/>
Behaviour is similar to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView/getUint32">DataView.prototype.getUint32</a>,
except that this operates over a <a href="MemoryMap.html"><code>MemoryMap</code></a> instead of
over an <tt>ArrayBuffer</tt>, and that this may return <tt>undefined</tt> if
the address is not <em>entirely</em> contained within one of the <tt>Uint8Array</tt>s.
<br/>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line562">line 562</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                The memory offset to read the data
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>littleEndian</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Boolean</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">
                Whether to fetch the 4 bytes as a little- or big-endian integer
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>Number</code></span>
|

<span class="param-type"><code>undefined</code></span>


    </dd>
</dl>


<div class="param-desc">
    An unsigned 32-bit integer number
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="join"><span class="type-signature"></span>join<span class="signature">(maxBlockSize<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="MemoryMap.html">MemoryMap</a>}</span></h4>

    



<div class="description">
    Returns a <strong>new</strong> instance of <a href="MemoryMap.html"><code>MemoryMap</code></a>, containing
the same data, but concatenating together those memory blocks that are adjacent.
<br/>
The insertion order of keys in the <a href="MemoryMap.html"><code>MemoryMap</code></a> is guaranteed to be strictly
ascending. In other words, when iterating through the <a href="MemoryMap.html"><code>MemoryMap</code></a>, the addresses
will be ordered in ascending order.
<br/>
If <tt>maxBlockSize</tt> is given, blocks will be concatenated together only
until the joined block reaches this size in bytes. This means that the output
<a href="MemoryMap.html"><code>MemoryMap</code></a> might have more entries than the input one.
<br/>
If there is any overlap between blocks, an error will be thrown.
<br/>
The returned <a href="MemoryMap.html"><code>MemoryMap</code></a> will use newly allocated memory.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line310">line 310</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>maxBlockSize</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    Infinity
                
                </td>
            

            <td class="description last">
                Maximum size of the <tt>Uint8Array</tt>s in the
returned <a href="MemoryMap.html"><code>MemoryMap</code></a>.
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="paginate"><span class="type-signature"></span>paginate<span class="signature">(pageSize<span class="signature-attributes">opt</span>, pad<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="MemoryMap.html">MemoryMap</a>}</span></h4>

    



<div class="description">
    Returns a new instance of <a href="MemoryMap.html"><code>MemoryMap</code></a>, where:

<ul>
 <li>Each key (the start address of each <tt>Uint8Array</tt>) is a multiple of
   <tt>pageSize</tt></li>
 <li>The size of each <tt>Uint8Array</tt> is exactly <tt>pageSize</tt></li>
 <li>Bytes from the input map to bytes in the output</li>
 <li>Bytes not in the input are replaced by a padding value</li>
</ul>
<br/>
The scenario is wanting to prepare pages of bytes for a write operation, where the write
operation affects a whole page/sector at once.
<br/>
The insertion order of keys in the output <a href="MemoryMap.html"><code>MemoryMap</code></a> is guaranteed
to be strictly ascending. In other words, when iterating through the
<a href="MemoryMap.html"><code>MemoryMap</code></a>, the addresses will be ordered in ascending order.
<br/>
The <tt>Uint8Array</tt>s in the output will be newly allocated.
<br/>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line506">line 506</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pageSize</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1024
                
                </td>
            

            <td class="description last">
                The size of the output pages, in bytes
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pad</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    0xFF
                
                </td>
            

            <td class="description last">
                The byte value to use for padding
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="slice"><span class="type-signature"></span>slice<span class="signature">(address, length)</span><span class="type-signature"> &rarr; {<a href="MemoryMap.html">MemoryMap</a>}</span></h4>

    



<div class="description">
    Returns a new instance of <a href="MemoryMap.html"><code>MemoryMap</code></a>, containing only data between
the addresses <tt>address</tt> and <tt>address + length</tt>.
Behaviour is similar to <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">Array.prototype.slice</a>,
in that the return value is a portion of the current <a href="MemoryMap.html"><code>MemoryMap</code></a>.

<br/>
The returned <a href="MemoryMap.html"><code>MemoryMap</code></a> might be empty.

<br/>
Internally, this uses <tt>subarray</tt>, so new memory is not allocated.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line838">line 838</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>address</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            

            

            <td class="description last">
                The start address of the slice
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>length</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            

            

            <td class="description last">
                The length of memory map to slice out
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="slicePad"><span class="type-signature"></span>slicePad<span class="signature">(address, length, padByte<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="MemoryMap.html">MemoryMap</a>}</span></h4>

    



<div class="description">
    Returns a new instance of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView/getUint32">Uint8Array</a>, containing only data between
the addresses <tt>address</tt> and <tt>address + length</tt>. Any byte without a value
in the input <a href="MemoryMap.html"><code>MemoryMap</code></a> will have a value of <tt>padByte</tt>.

<br/>
This method allocates new memory.
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="intel-hex.js.html">intel-hex.js</a>, <a href="intel-hex.js.html#line875">line 875</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>address</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                The start address of the slice
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>length</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">
                The length of memory map to slice out
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>padByte</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    0xFF
                
                </td>
            

            <td class="description last">
                The value of the byte assumed to be used as padding
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code><a href="MemoryMap.html">MemoryMap</a></code></span>


    </dd>
</dl>


    
</div>



</div>
        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Feb 13 2018 11:22:30 GMT+0100 (CET) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>